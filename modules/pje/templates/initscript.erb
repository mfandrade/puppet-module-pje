#!/bin/sh
# chkconfig: 345 90 10
# description: PJE JBoss wrapper init script

SCRIPT_1GRAU=<%= scope['::pje::params::jboss_home'] %>/bin/pje-1grau-default.sh
SCRIPT_2GRAU=<%= scope['::pje::params::jboss_home'] %>/bin/pje-2grau-default.sh

if [[ $# -eq 0  ]]; then
    echo "Usage: $0 {start|stop|restart|kill|status} <1grau|2grau>"
    exit 1

elif [[ $# -eq 1 ]]; then

  [[ -x $SCRIPT_1GRAU ]] && $SCRIPT_1GRAU "$1"
  [[ -x $SCRIPT_2GRAU ]] && $SCRIPT_2GRAU "$1"

elif [[ $# -ge 2 ]]; then

  if [[ "$2" = "1grau" ]]; then
    [[ -x $SCRIPT_1GRAU ]] && $SCRIPT_1GRAU "$1"
    
  elif [[ "$2" = "2grau" ]]; then
    [[ -x $SCRIPT_2GRAU ]] && $SCRIPT_2GRAU "$1"
    
  else
    echo "PJE '$2' is an invalid instance"
    exit 3

  fi
fi
